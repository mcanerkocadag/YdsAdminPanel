<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui" > 

<h:head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta http-equiv="X-UA-Conpatible" content="IE=edge" />
    <link href="resources/css/bootstrap.min.css" rel="stylesheet"/>

    <!-- Custom CSS -->
    <link href="resources/css/blog-post.css" rel="stylesheet"/>
		<link href="resources/css/style.css" rel="stylesheet" type="text/css"/>
		 <title>YDS</title>
		 <script type="text/javascript" src="resources/js/bootstrap.min.js"/>
		 <script type="text/javascript" src="resources/js/jquery-2.1.4.js"/>
    </h:head>
    <h:body>

    <!-- Navigation -->
    <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="admin.index.jsf">YDS</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
          <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li>
                      <div class="dropdown" style="margin-top: 5px; margin-right:5px;">
						  <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
						    Sorular
						    <span class="caret"></span>
						  </button>
						  <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
						    <li><a href="admin.soruEkle.jsf">Ekle</a></li>
						    <li><a href="admin.soruLS.jsf">Listele/Düzenle/Sil</a></li>
						  </ul>
						</div>
                    </li>
                    <li>
						   <div class="dropdown" style="margin-top: 5px; margin-right:5px;">
						  <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
						    Sınavlar
						    <span class="caret"></span>
						  </button>
						  <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
						    <li><a href="admin.sinavEkle.jsf">Ekle</a></li>
						    <li><a href="admin.sinavDS.jsf">Listele/Düzenle/Sil</a></li>
						  </ul>
						</div>
                    </li>
                    <li>
                    <div class="dropdown" style="margin-top: 5px; margin-right:5px;">
                        <a href="admin.kullaniciDS.jsf" >
						  <button class="btn btn-default dropdown-toggle" type="button" id="kullanicilarLink">
						    Kullanıcılar
						  </button>
						  </a>
						  </div>
                    </li>
                    <li>
                    <div class="dropdown" style="margin-top: 5px; margin-right:5px;">
                        <a href="admin.istatistikLS.jsf" >
						  <button class="btn btn-default dropdown-toggle" type="button" id="istatistiklerLink">
						    İstatistikler
						  </button>
						  </a>
						  </div>
                    </li>
                    <li style="position:fixed; right:1%; ">
						   <div class="dropdown" style="margin-top: 5px; margin-right:5px;">
						  <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
						    <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
						    #{sessionScope.admin}
						    <span class="caret"></span>
						  </button>
						  <ul class="dropdown-menu"  >
						    <li><p:commandButton  action="admin.profil.jsf?faces-redirect=true" value="Profil" class="btn btn-default dropdown-toggle" style="margin-left:5px;"/></li>
						    <li><p:commandButton  action="#{dtSelectionView.logout()}" value="Çıkış" class="btn btn-default dropdown-toggle" style="margin-left:5px; margin-top:5px;"/></li>
						  </ul>
						</div>
                    </li>
                    <p:growl id="messages" sticky="true" showDetail="true"/>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </div>



    <!-- Page Content -->
    <div class="container">

        <div class="row">

            <!-- Blog Post Content Column -->
            <div class="col-md-8">
            <h:form>
            
            <h:panelGrid class="col-lg-12" columns="2" cellpadding="5">
             <p:outputLabel value="Kullanıcı Id:"/>
  			<p:inputText value="#{dtSelectionView.secilenId}" id="usid" type="text" class="form-control" />
  			<p:outputLabel value="Kullanıcı Adı:"/>
  			<p:inputText value="#{dtSelectionView.secilenAd}" id="usn" type="text" class="form-control" />
  			<p:commandButton id="submitButtonn" value="Listele" update=":form:basicDT" action="#{dtSelectionView.init()}"/>
  </h:panelGrid>
  
  
  			</h:form>
  
  <h:form class="col-lg-12" style="margin-top:20px;" id="form"> 
 
     <p:dataTable id="basicDT" var="UserModel" value="#{dtSelectionView.users}">
        <f:facet name="header">
            Kullanıcılar
        </f:facet>
        <p:column headerText="Id" class="col-lg-1">
            <h:outputText value="#{UserModel.iduser}" />
        </p:column>
        <p:column headerText="Kullanıcı Adı" class="col-lg-2">
            <h:outputText value="#{UserModel.username}" />
        </p:column>
        <p:column headerText="Parola" class="col-lg-2">
            <h:outputText value="#{UserModel.password}" />
        </p:column>
        <p:column headerText="Email" class="col-lg-2">
            <h:outputText value="#{UserModel.email}" />
        </p:column>
		<p:column headerText="Rol" class="col-lg-1">
            <h:outputText value="#{UserModel.status}" />
        </p:column>
        <p:column headerText="Düzenle/Sil" style="text-align: center" class="col-lg-2">
             <p:commandButton update=":form:userDetail :form:basicDT" oncomplete="PF('userDialog').show()" icon="ui-icon-pencil" title="Düzenle">
                <f:setPropertyActionListener value="#{UserModel}" target="#{dtSelectionView.selectedUser}" />
            </p:commandButton>
              <p:commandButton update=":form:basicDT messages" action="#{dtSelectionView.delete()}" icon="ui-icon-trash" title="Sil">
                <f:setPropertyActionListener value="#{UserModel}" target="#{dtSelectionView.selectedUser}" />
            </p:commandButton>
        </p:column>
    </p:dataTable>
      <p:dialog header="Kullanıcı Bilgileri" widgetVar="userDialog" modal="true" showEffect="blind" hideEffect="explode" resizable="false">
       <p:messages/>
        <p:outputPanel id="userDetail" style="text-align:center;">
            <p:panelGrid  columns="2" rendered="#{not empty dtSelectionView.selectedUser}" columnClasses="label,value">
                
 
                <h:outputText value="Id:" style="color:#d15353; font-weight: bold;" />
                <h:outputText value="#{dtSelectionView.selectedUser.iduser}" style="font-weight: bold;"/>
 
                <h:outputText value="Kullanıcı Adı"  style="color:#d15353; font-weight: bold;"/>
                <h:outputText value="#{dtSelectionView.selectedUser.username}" style="font-weight: bold;"/>
 
                <h:outputText value="Parola:" style="color:#d15353; font-weight: bold;"/>
                <h:outputText value="#{dtSelectionView.selectedUser.password}" style="font-weight: bold;"/>
 
                <h:outputText value="Email" style="color:#d15353; font-weight: bold;"/>
                <h:outputText value="#{dtSelectionView.selectedUser.email}" style="font-weight: bold;"/>
				<h:outputText value="Rol" style="color:#d15353; font-weight: bold;"/>
                <h:inputText value="#{dtSelectionView.selectedUser.status}" style="font-weight: bold;" />
               
            </p:panelGrid>
             <p:commandButton oncomplete="PF('userDialog').hide()" update=":form:basicDT messages" value="Güncelle" action="#{dtSelectionView.update()}"/>
        </p:outputPanel>
    </p:dialog>
</h:form>
            </div>

            <!-- Blog Sidebar Widgets Column -->
            <div class="col-md-4">
<h:form class="col-lg-12" style="margin-top:0px;"> 
    <p:dataScroller value="#{stSelectionView.listStatistics()}" var="StatisticsModel" chunkSize="10" class="col-lg-12">
        <f:facet name="header">
            İstatistikler
        </f:facet>
 
        <h:panelGrid columns="2" style="width:100%; margin-top:10px;" columnClasses="logo,detail">
            <p:outputPanel class="col-lg-12">
                <h:panelGrid columns="2" cellpadding="5">
             
                 <h:outputText  value="Id:" style="font-weight: bold;"/>
                    <h:outputText  value="  #{StatisticsModel.idstatistics}" style=" margin-left:10px;"/>
                     <h:outputText  value="Kullanıcı Adı:" style="font-weight: bold"/>
                    <h:outputText  value="  #{StatisticsModel.username}" style=" margin-left:10px;"/>
                    <h:outputText  value="Sınav Adı:" style="font-weight: bold"/>
                    <h:outputText  value="  #{StatisticsModel.examname}" style=" margin-left:10px;" />
 					 <h:outputText  value="Dogru Sayısı:" style="font-weight: bold"/>
                    <h:outputText  value="  #{StatisticsModel.dogru}" style=" margin-left:10px;"/>
                   
                </h:panelGrid>
                <p:separator />
            </p:outputPanel >
        </h:panelGrid>
    </p:dataScroller>
</h:form>
            </div>

        </div>
        <!-- /.row -->

        <!-- Footer -->
        <footer>
            <div class="row">
                <div class="col-lg-12">
               
                    <p>MCH &copy; YDS Website 2016</p>
                </div>
            </div>
            <!-- /.row -->
        </footer>

    </div>
    <!-- /.container -->

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

</h:body>

</html>
